<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Virtualization | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Introduction to VirtualizationVirtualization is the process of creating a virtual version of a system, such as hardware platforms, storage devices, and networks. It allows a single physical machine to">
<meta property="og:type" content="article">
<meta property="og:title" content="Virtualization">
<meta property="og:url" content="https://chrisabdo.github.io/IS373-Hexo/2024/10/18/virtualization/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Introduction to VirtualizationVirtualization is the process of creating a virtual version of a system, such as hardware platforms, storage devices, and networks. It allows a single physical machine to">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-10-18T01:27:06.273Z">
<meta property="article:modified_time" content="2024-10-18T01:27:06.273Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/IS373-Hexo/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/IS373-Hexo/favicon.png">
  
  
  
<link rel="stylesheet" href="/IS373-Hexo/css/style.css">

  
    
<link rel="stylesheet" href="/IS373-Hexo/fancybox/jquery.fancybox.min.css">

  
  
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/IS373-Hexo/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/IS373-Hexo/">Home</a>
        
          <a class="main-nav-link" href="/IS373-Hexo/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/IS373-Hexo/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="Search"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://chrisabdo.github.io/IS373-Hexo"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-virtualization" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/IS373-Hexo/2024/10/18/virtualization/" class="article-date">
  <time class="dt-published" datetime="2024-10-18T01:27:06.273Z" itemprop="datePublished">2024-10-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Virtualization
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Introduction-to-Virtualization"><a href="#Introduction-to-Virtualization" class="headerlink" title="Introduction to Virtualization"></a>Introduction to Virtualization</h1><p>Virtualization is the process of creating a virtual version of a system, such as hardware platforms, storage devices, and networks. It allows a single physical machine to run multiple operating systems (OSes) simultaneously by abstracting the hardware and resources. Let’s explore the three main types of virtualization—Full Virtualization, Paravirtualization, and Hardware-assisted Virtualization—with examples, graphs, and terminal snippets for each.</p>
<ol>
<li>Full Virtualization<br>Definition:<br>Full virtualization provides a complete simulation of the underlying hardware, allowing an unmodified operating system to run in a virtual machine (VM) without modification. The guest OS is unaware it is being virtualized and interacts with virtual hardware as if it were the physical hardware.</li>
</ol>
<p>How It Works:<br>In full virtualization, the hypervisor (also known as a Virtual Machine Monitor or VMM) emulates all the underlying hardware. This means the guest OS thinks it is interacting with a full physical machine. The hypervisor translates the OS’s high-level requests into low-level instructions that the actual hardware understands.</p>
<p>Examples of Full Virtualization:<br>VMware Workstation&#x2F;Fusion&#x2F;ESXi<br>Microsoft Hyper-V<br>Oracle VirtualBox<br>Advantages:<br>OS independence: The guest OS doesn’t need to know it’s virtualized.<br>Easy migration: Since the OS doesn’t need modification, VMs can easily move between different systems.<br>Disadvantages:<br>High overhead: Emulation of hardware can lead to a significant performance hit.<br>Diagram:<br>Here’s a basic diagram of full virtualization:</p>
<p>SQL<br>Copy code<br>|————————–|</p>
<table>
<thead>
<tr>
<th>Guest OS 1 (Unmodified)</th>
</tr>
</thead>
<tbody><tr>
<td>Guest OS 2 (Unmodified)</td>
</tr>
<tr>
<td>————————–</td>
</tr>
<tr>
<td>Hypervisor (Full VMM)</td>
</tr>
<tr>
<td>————————–</td>
</tr>
<tr>
<td>Physical Hardware</td>
</tr>
<tr>
<td>————————–</td>
</tr>
<tr>
<td>Sample Terminal Commands (KVM&#x2F;QEMU)</td>
</tr>
<tr>
<td>bash</td>
</tr>
<tr>
<td>Copy code</td>
</tr>
</tbody></table>
<h1 id="Installing-KVM-and-QEMU-for-Full-Virtualization-Ubuntu-Example"><a href="#Installing-KVM-and-QEMU-for-Full-Virtualization-Ubuntu-Example" class="headerlink" title="Installing KVM and QEMU for Full Virtualization (Ubuntu Example)"></a>Installing KVM and QEMU for Full Virtualization (Ubuntu Example)</h1><p>sudo apt update<br>sudo apt install qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils virt-manager</p>
<h1 id="Starting-Virtual-Machine"><a href="#Starting-Virtual-Machine" class="headerlink" title="Starting Virtual Machine"></a>Starting Virtual Machine</h1><p>virt-manager # This opens a GUI to manage VMs using full virtualization<br>2. Paravirtualization<br>Definition:<br>In paravirtualization, the guest OS is aware of the fact that it is running in a virtualized environment. The OS is modified to interact directly with the hypervisor, which avoids the need to emulate hardware, resulting in better performance.</p>
<p>How It Works:<br>The guest OS is aware of the hypervisor and has specific modifications that allow it to communicate directly with the hypervisor using special API calls, known as hypercalls. These hypercalls are much faster than the trapping and emulation techniques used in full virtualization.</p>
<p>Examples of Paravirtualization:<br>Xen with PV Guests<br>VMware ESXi (when used with VMware Tools)<br>Advantages:<br>Better performance than full virtualization since there’s no need to emulate hardware.<br>Reduced overhead due to efficient communication between guest and hypervisor.<br>Disadvantages:<br>The guest OS must be modified, which makes it more complex to manage and limits portability.<br>Diagram:<br>Here’s a diagram for paravirtualization:</p>
<p>lua<br>Copy code<br>|————————–|</p>
<table>
<thead>
<tr>
<th>Guest OS 1 (Modified)</th>
</tr>
</thead>
<tbody><tr>
<td>Guest OS 2 (Modified)</td>
</tr>
<tr>
<td>————————–</td>
</tr>
<tr>
<td>Hypervisor (Paravirt.)</td>
</tr>
<tr>
<td>————————–</td>
</tr>
<tr>
<td>Physical Hardware</td>
</tr>
<tr>
<td>————————–</td>
</tr>
<tr>
<td>Sample Terminal Commands (Xen Hypervisor)</td>
</tr>
<tr>
<td>bash</td>
</tr>
<tr>
<td>Copy code</td>
</tr>
</tbody></table>
<h1 id="Installing-Xen-Hypervisor-on-Debian-Ubuntu"><a href="#Installing-Xen-Hypervisor-on-Debian-Ubuntu" class="headerlink" title="Installing Xen Hypervisor on Debian&#x2F;Ubuntu"></a>Installing Xen Hypervisor on Debian&#x2F;Ubuntu</h1><p>sudo apt-get update<br>sudo apt-get install xen-hypervisor-amd64</p>
<h1 id="Starting-a-Xen-VM-paravirtualization-mode"><a href="#Starting-a-Xen-VM-paravirtualization-mode" class="headerlink" title="Starting a Xen VM (paravirtualization mode)"></a>Starting a Xen VM (paravirtualization mode)</h1><p>xl create &#x2F;etc&#x2F;xen&#x2F;config_file.cfg</p>
<h1 id="Verifying-the-running-VM"><a href="#Verifying-the-running-VM" class="headerlink" title="Verifying the running VM"></a>Verifying the running VM</h1><p>xl list<br>3. Hardware-assisted Virtualization<br>Definition:<br>Hardware-assisted virtualization uses CPU extensions to improve virtualization performance. Modern processors from Intel (Intel VT-x) and AMD (AMD-V) provide these extensions, allowing the hypervisor to offload some of the virtualization tasks to the hardware, minimizing overhead.</p>
<p>How It Works:<br>With hardware-assisted virtualization, the hypervisor uses special CPU instructions (like Intel VT-x or AMD-V) that allow the guest OS to run at nearly native performance. The hardware provides efficient ways to handle context switches, privilege level changes, and memory management tasks that would otherwise have been handled by the hypervisor.</p>
<p>Examples of Hardware-assisted Virtualization:<br>KVM (Kernel-based Virtual Machine)<br>Microsoft Hyper-V (with Intel VT-x&#x2F;AMD-V)<br>VMware ESXi (with Intel VT-x&#x2F;AMD-V)<br>Advantages:<br>Minimal overhead: Hardware extensions help achieve near-native performance.<br>Unmodified guest OS: Like full virtualization, the guest OS does not need to be aware of the virtualization.<br>Disadvantages:<br>Requires modern hardware that supports CPU extensions.<br>Diagram:<br>Here’s a diagram for hardware-assisted virtualization:</p>
<p>lua<br>Copy code<br>|————————–|</p>
<table>
<thead>
<tr>
<th>Guest OS 1 (Unmodified)</th>
</tr>
</thead>
<tbody><tr>
<td>Guest OS 2 (Unmodified)</td>
</tr>
<tr>
<td>————————–</td>
</tr>
<tr>
<td>Hypervisor</td>
</tr>
<tr>
<td>————————–</td>
</tr>
<tr>
<td>CPU Extensions (Intel VT)</td>
</tr>
<tr>
<td>————————–</td>
</tr>
<tr>
<td>Physical Hardware</td>
</tr>
<tr>
<td>————————–</td>
</tr>
<tr>
<td>Sample Terminal Commands (KVM with Hardware Extensions)</td>
</tr>
<tr>
<td>bash</td>
</tr>
<tr>
<td>Copy code</td>
</tr>
</tbody></table>
<h1 id="Verify-if-the-CPU-supports-Intel-VT-or-AMD-V"><a href="#Verify-if-the-CPU-supports-Intel-VT-or-AMD-V" class="headerlink" title="Verify if the CPU supports Intel VT or AMD-V"></a>Verify if the CPU supports Intel VT or AMD-V</h1><p>egrep -c ‘(vmx|svm)’ &#x2F;proc&#x2F;cpuinfo</p>
<h1 id="Installing-KVM-Kernel-based-Virtual-Machine-on-Ubuntu"><a href="#Installing-KVM-Kernel-based-Virtual-Machine-on-Ubuntu" class="headerlink" title="Installing KVM (Kernel-based Virtual Machine) on Ubuntu"></a>Installing KVM (Kernel-based Virtual Machine) on Ubuntu</h1><p>sudo apt update<br>sudo apt install qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils</p>
<h1 id="Starting-the-VM-using-KVM"><a href="#Starting-the-VM-using-KVM" class="headerlink" title="Starting the VM using KVM"></a>Starting the VM using KVM</h1><p>virt-manager # GUI to manage the VMs<br>Graph: Virtualization Performance Comparison<br>plaintext<br>Copy code</p>
<table>
<thead>
<tr>
<th>Performance</th>
<th>Full Virtualization</th>
<th>Paravirtualization</th>
<th>Hardware-assisted Virtualization</th>
</tr>
</thead>
<tbody><tr>
<td>CPU Overhead</td>
<td>High</td>
<td>Medium</td>
<td>Low</td>
</tr>
<tr>
<td>Memory Overhead</td>
<td>High</td>
<td>Medium</td>
<td>Low</td>
</tr>
<tr>
<td>IO Performance</td>
<td>Low</td>
<td>Medium</td>
<td>High</td>
</tr>
<tr>
<td>Conclusion:</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Full Virtualization provides complete abstraction of the underlying hardware but incurs a high performance overhead.</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Paravirtualization offers better performance by modifying the guest OS to interact directly with the hypervisor.</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Hardware-assisted Virtualization leverages modern CPU extensions to achieve near-native performance, reducing overhead while allowing unmodified OSes.</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>Each type of virtualization has specific use cases, and the choice depends on the performance needs and the flexibility of the guest OS.</td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://chrisabdo.github.io/IS373-Hexo/2024/10/18/virtualization/" data-id="cm2e1v5vj0004hgqc47al0djc" data-title="Virtualization" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/IS373-Hexo/2024/10/18/test/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Ex. Post
        
      </div>
    </a>
  
  
    <a href="/IS373-Hexo/2024/10/18/wsl2/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">WSL2</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/IS373-Hexo/archives/2024/10/">October 2024</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/IS373-Hexo/2024/10/18/containerization/">Containerization</a>
          </li>
        
          <li>
            <a href="/IS373-Hexo/2024/10/18/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/IS373-Hexo/2024/10/18/kernel/">Kernels</a>
          </li>
        
          <li>
            <a href="/IS373-Hexo/2024/10/18/test/">Ex. Post</a>
          </li>
        
          <li>
            <a href="/IS373-Hexo/2024/10/18/virtualization/">Virtualization</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2024 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/IS373-Hexo/" class="mobile-nav-link">Home</a>
  
    <a href="/IS373-Hexo/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/IS373-Hexo/js/jquery-3.6.4.min.js"></script>



  
<script src="/IS373-Hexo/fancybox/jquery.fancybox.min.js"></script>




<script src="/IS373-Hexo/js/script.js"></script>





  </div>
</body>
</html>